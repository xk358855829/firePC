webpackJsonp([8],{OdmC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mw3O"),s=a.n(n),l=a("OMN4"),i=a.n(l),r={name:"pageHome",data:function(){return{paging:{page:1,pageSize:10,total:0},menuName:"",menuAddress:"",menuPagename:"",menuSort:"",levelList:[{value:"0",label:"一级菜单"},{value:"1",label:"二级菜单"}],level:"0",associatedList:[{menuId:"0",menuName:"一级菜单"}],associated:"0",LevelA:[],tableData:[]}},mounted:function(){this.searchClick(),document.title=this.$route.meta.title},methods:{indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},searchClick:function(){var e=this;this.$store.dispatch("getMenu"),e.tableData=[],i()({method:"post",url:this.$store.state.http+"/menu/page",data:s.a.stringify({page:this.paging.page,pageSize:this.paging.pageSize})}).then(function(t){0==t.data.resCode&&(e.tableData=t.data.result,e.paging.total=t.data.count)}),i()({method:"post",url:this.$store.state.http+"/menu/level",data:s.a.stringify({menuLevel:0})}).then(function(t){0==t.data.resCode&&(e.LevelA=t.data.result)})},levelChange:function(){1==this.level?(this.associatedList=this.LevelA,this.associated=this.associatedList[0].menuId):(this.associatedList=[{menuId:"0",menuName:"一级菜单"}],this.associated="0")},addClick:function(){if(""==this.menuName)return this.$message.error("菜单名称不能为空！"),!1;if(""==this.menuAddress)return this.$message.error("图片名称不能为空"),!1;if(""==this.menuPagename)return this.$message.error("路径名称不能为空！"),!1;if(""==this.level)return this.$message.error("菜单等级不能为空！"),!1;if(""==this.associated)return this.$message.error("菜单关联不能为空！"),!1;if(""==this.menuSort)return this.$message.error("排序数字不能为空！"),!1;var e=this,t={menuName:this.menuName,menuAddress:this.menuAddress,menuPagename:this.menuPagename,menuSort:this.menuSort,menuLevel:this.level,menuAssociated:this.associated,menuId:this.menuSort};i()({method:"post",url:this.$store.state.http+"/menu/add",data:s.a.stringify(t)}).then(function(t){0==t.data.resCode&&e.searchClick()})},deleteClick:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i()({method:"post",url:t.$store.state.http+"/menu/delete",data:s.a.stringify({menuId:e.menuId})}).then(function(e){0==e.data.resCode?a.searchClick():a.$alert(e.data.result,"系统确认框",{confirmButtonText:"确定"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add"}},[a("div",{staticClass:"select"},[a("span",[e._v("菜单名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}}),e._v(" "),a("span",[e._v("路径名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuPagename,callback:function(t){e.menuPagename=t},expression:"menuPagename"}}),e._v(" "),a("span",[e._v("菜单等级：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.levelChange},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},e._l(e.levelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("图片名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuAddress,callback:function(t){e.menuAddress=t},expression:"menuAddress"}}),e._v(" "),a("span",[e._v("排序数字：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuSort,callback:function(t){e.menuSort=t},expression:"menuSort"}}),e._v(" "),a("span",[e._v("菜单关联：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.associated,callback:function(t){e.associated=t},expression:"associated"}},e._l(e.associatedList,function(e){return a("el-option",{key:e.menuId,attrs:{label:e.menuName,value:e.menuId}})}))],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addClick}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuId",label:"ID",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuPagename",label:"路径名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuSort",label:"排序数字",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuAddress",label:"图片路径",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuLevel",label:"菜单等级",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuAssociated",label:"菜单关联",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(a){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1)])},staticRenderFns:[]};var u=a("VU/8")(r,o,!1,function(e){a("h0zS")},"data-v-ef5b07a0",null);t.default=u.exports},h0zS:function(e,t){}});