webpackJsonp([22],{WVtA:function(e,a){},gB4t:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("bOdI"),l=t.n(s),n=t("mw3O"),c=t.n(n),r=t("OMN4"),i=t.n(r),o={name:"equipmentList",data:function(){var e;return e={levelList:[],level:"0",add1:{deviceId:"",devicename:""},added:"",send:{deviceId:"",title:"",timeOut:"",qos:""},change:{title:"",desc:"",tags:"",lon:"",lat:"",authInfo:"",deviceId:""},status:"",universal:{add:!1,change:!1,look:!1,send:!1},tableData:[],con:{id:"",protocol:"",create_time:"",auth_info:"",title:"",desc:"",tags:"",lon:"",lat:"",dataid:"",unit:"",unit_symbol:""},li:[],add:!1,topic:!1,conGroup:!1},l()(e,"change",!1),l()(e,"send",!1),l()(e,"see",!1),l()(e,"changeGroups",!1),l()(e,"changeGrouping",{changeGrouping:"",conId:""}),l()(e,"step",0),l()(e,"seeStep",1),l()(e,"paging",{page:1,pageSize:10,total:0}),l()(e,"search",{deviceId:"",title:"",start:"",end:"",ParaSn:""}),l()(e,"addTo",{group:{userId:sessionStorage.getItem("userId"),gropuName:"",groupPhone:"",name:"",groupNotes:""},list:{userId:sessionStorage.getItem("userId"),carBrand:"",conLocation:"",conLocaid:"",conType:"",conGroup:"",conEquipmType:"1",conOutTime:"",conYear:"",conSpeed:"",conExpire:"",sim:"",iccid:"",installDate:"",carType:"",carContact:"",carPhone:"",carEngine:"",installName:"",installPhone:"",carVin:"",carDriveNumber:"",carRiskStart:"",carRiskEnd:"",contrNumber:"",contrDateL:"",contrAddress:"",contrType:"",contrName:"",contrNames:"",contrPhones:"",contrNamey:"",contrPhoney:"",companAddress:"",contrStarDate:"",contrEndDate:"",masterName:"",masterSex:"",masterPhone:"",masterAddres:"",masterCard:"",masterDriveType:"",masterEmark:""}}),l()(e,"seeInfo",{carBrand:"",installDate:"",carType:"",carContact:"",carPhone:"",carEngine:"",installName:"",installPhone:"",carVin:"",carDriveNumber:"",carRiskStart:"",carRiskEnd:"",contrNumber:"",contrAddress:"",contrType:"",contrName:"",contrNames:"",contrPhones:"",contrNamey:"",contrPhoney:"",companAddress:"",contrStarDate:"",contrEndDate:"",contrDate:""}),l()(e,"controNameL",[{label:"C1",value:1},{label:"C2",value:2},{label:"C3",value:3},{label:"B1",value:4},{label:"B2",value:5},{label:"A1",value:6},{label:"A2",value:7},{label:"A3",value:8}]),e},mounted:function(){this.searchClick(),document.title=this.$route.meta.title,"123"==sessionStorage.getItem("dealer")&&(this.added=1)},methods:{uploadFile:function(e){var a=this,t=new FormData;t.append("file",e);e=t;i()({method:"post",url:this.$store.state.http+"/Snclass/batch",data:e}).then(function(e){0==e.data.resCode?(a.searchClick(),a.$message({message:"导入成功",type:"success"})):a.$message({message:"导入失败",type:"error"})})},indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},next:function(){var e=this;0==this.step?i()({method:"post",url:e.$store.state.http+"/concode/conByCarBrand",data:c.a.stringify({conLocaid:e.addTo.list.conLocaid,carBrand:e.addTo.list.carBrand})}).then(function(a){if(0!=a.data.resCode)return e.$message.error("此定位器ID不存在"),e.addTo.list.conLocaid="",!1;e.step++>3&&(e.step=0,e.add=!1)}):e.step++>3&&(e.step=0,e.add=!1)},nextSee:function(){this.seeStep++>1&&(this.seeStep=1)},handleCurrentChange:function(e){this.searchClick()},addClick:function(){if(""==this.add1.deviceId)return this.$message.error("带*的数据不能为空哦！"),!1;if(""==this.add1.deviceName)return this.$message.error("带*的数据不能为空哦！"),!1;var e=this,a=this.add1;a.personnel=sessionStorage.getItem("dealer"),0==a.personnel&&(a.personnel=sessionStorage.getItem("orderDealers")),i()({method:"post",dataType:"jsonp",url:this.$store.state.http+"/devices/addOrderDevice",data:c.a.stringify(a)}).then(function(a){localStorage.setItem("id",a.data.errMsg.split(":")[1]),0==a.data.resCode?(e.searchClick(),e.$message({message:"添加成功",type:"success"})):6==a.data.resCode&&e.$alert(a.data.result,"请勿重复添加",{confirmButtonText:"确定"})}),e.universal.add=!1},deleteClick:function(e){var a=this,t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i()({method:"post",url:a.$store.state.http+"/devices/removeOrderDevice",data:c.a.stringify({devId:e.deviceId})}).then(function(e){0==e.data.resCode?(t.searchClick(),t.$message({message:"删除成功",type:"success"})):t.$alert(e.data.result,"系统确认框",{confirmButtonText:"确定"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},changeshow:function(e){this.universal.change=!0,this.change=e},order:function(e){this.universal.send=!0,this.send=e},searchClick:function(){var e={pageNum:this.paging.page,pageSize:this.paging.pageSize};e.devParaSn=this.search.ParaSn,e.dealer=this.search.dealer,e.devId=this.search.deviceId,e.userId=sessionStorage.getItem("userId"),e.dealer=sessionStorage.getItem("dealer"),0==e.dealer&&(e.dealer=sessionStorage.getItem("orderDealers"));var a=this;a.tableData=[],a.timeCrea=[],i()({method:"post",url:this.$store.state.http+"/Snclass/find ",data:c.a.stringify(e)}).then(function(e){if(0==e.data.resCode){for(var t=0;t<e.data.result.length;t++)""==e.data.result[t].deviceId&&(e.data.result[t].deviceId="无");for(t=0;t<e.data.result.length;t++)""==e.data.result[t].trafficCard&&(e.data.result[t].trafficCard="无");for(t=0;t<e.data.result.length;t++)1==e.data.result[t].status?e.data.result[t].status="已激活":e.data.result[t].status="未激活";a.tableData=e.data.result,a.paging.total=e.data.result2}else a.tableData=[],a.paging.total=0})}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"PSTlist"}},[e._m(0),e._v(" "),t("div",{staticClass:"select"},[t("span",[e._v("设备ID：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.deviceId,callback:function(a){e.$set(e.search,"deviceId",a)},expression:"search.deviceId"}}),e._v(" "),t("span",[e._v("设备SN码：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.ParaSn,callback:function(a){e.$set(e.search,"ParaSn",a)},expression:"search.ParaSn"}})],1),e._v(" "),t("div",{staticClass:"select"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")]),e._v(" "),t("el-upload",{staticClass:"upload-demo demoele",attrs:{action:"","before-upload":e.uploadFile,multiple:"",limit:1}},[t("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-download"}},[e._v("导入")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"新增",visible:e.universal.add},on:{"update:visible":function(a){e.$set(e.universal,"add",a)}}},[t("div",[t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("设备编号：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add1.deviceId,callback:function(a){e.$set(e.add1,"deviceId",a)},expression:"add1.deviceId"}}),t("br"),t("br"),e._v(" "),t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("设备名称：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add1.deviceName,callback:function(a){e.$set(e.add1,"deviceName",a)},expression:"add1.deviceName"}}),t("br"),t("br")],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(a){e.universal.add=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.addClick}},[e._v("添加")])],1)]),e._v(" "),t("el-dialog",{attrs:{title:"修改",visible:e.universal.change},on:{"update:visible":function(a){e.$set(e.universal,"change",a)}}},[t("div",[t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("设备编号：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.deviceId,callback:function(a){e.$set(e.change,"deviceId",a)},expression:"change.deviceId"}}),t("br"),t("br"),e._v(" "),t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("流量卡卡号：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.title,callback:function(a){e.$set(e.change,"title",a)},expression:"change.title"}}),t("br"),t("br"),e._v(" "),t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("设备类型：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.desc,callback:function(a){e.$set(e.change,"desc",a)},expression:"change.desc"}}),t("br"),t("br"),e._v(" "),t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("设备型号：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.tags,callback:function(a){e.$set(e.change,"tags",a)},expression:"change.tags"}}),t("br"),t("br"),e._v(" "),t("span",{staticClass:"spanClassT"},[t("span",{staticClass:"aKey"},[e._v("*")]),e._v("创建时间：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.authInfo,callback:function(a){e.$set(e.change,"authInfo",a)},expression:"change.authInfo"}}),t("br"),t("br")],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(a){e.universal.change=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(a){e.changeclick(e.change)}}},[e._v("修改")])],1)]),e._v(" "),t("el-dialog",{attrs:{title:"查看",visible:e.universal.look},on:{"update:visible":function(a){e.$set(e.universal,"look",a)}}},[t("div",[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"spanClassT"},[e._v("设备ID：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.id,callback:function(a){e.$set(e.con,"id",a)},expression:"con.id"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("接入协议：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.protocol,callback:function(a){e.$set(e.con,"protocol",a)},expression:"con.protocol"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("创建时间：")]),e._v(" "),t("el-input",{staticClass:"coied",attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.create_time,callback:function(a){e.$set(e.con,"create_time",a)},expression:"con.create_time"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("鉴权信息：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.auth_info,callback:function(a){e.$set(e.con,"auth_info",a)},expression:"con.auth_info"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("设备名称：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.title,callback:function(a){e.$set(e.con,"title",a)},expression:"con.title"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("设备描述：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.desc,callback:function(a){e.$set(e.con,"desc",a)},expression:"con.desc"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("设备标签：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.tags,callback:function(a){e.$set(e.con,"tags",a)},expression:"con.tags"}}),t("br"),t("br")],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"spanClassT"},[e._v("设备经度：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.lon,callback:function(a){e.$set(e.con,"lon",a)},expression:"con.lon"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("设备纬度：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.lat,callback:function(a){e.$set(e.con,"lat",a)},expression:"con.lat"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("数据流名称：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.dataid,callback:function(a){e.$set(e.con,"dataid",a)},expression:"con.dataid"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("单位：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.unit,callback:function(a){e.$set(e.con,"unit",a)},expression:"con.unit"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("单位符号：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.con.unit_symbol,callback:function(a){e.$set(e.con,"unit_symbol",a)},expression:"con.unit_symbol"}}),t("br"),t("br"),e._v(" "),t("div",{staticClass:"spanClassT"},[e._v("设备在线状态：")]),e._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.status,callback:function(a){e.status=a},expression:"status"}}),t("br"),t("br")],1)],1)],1)]),e._v(" "),t("div",{staticClass:"Content"},[t("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{label:"设备ID"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[e._v(e._s(a.row.deviceId))]),e._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[e._v(e._s(a.row.deviceId))])])])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"SN码",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[e._v(e._s(a.row.devParaSn))]),e._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[e._v(e._s(a.row.devParaSn))])])])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"匹配状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[e._v(e._s(a.row.status))]),e._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[e._v(e._s(a.row.status))])])])]}}])})],1)],1),e._v(" "),t("div",{staticClass:"footer"},[t("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[1,2,3,10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(a){e.$set(e.paging,"page",a)}}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"headerTitle"},[a("span",[this._v("SN码管理")])])])}]};var u=t("VU/8")(o,d,!1,function(e){t("WVtA")},"data-v-489b3654",null);a.default=u.exports}});