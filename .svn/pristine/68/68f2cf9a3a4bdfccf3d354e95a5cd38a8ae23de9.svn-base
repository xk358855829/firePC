webpackJsonp([32],{ba1d:function(e,t){},fEzU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("woOf"),l=s.n(a),i=s("mw3O"),n=s.n(i),r=s("OMN4"),c=s.n(r),o={name:"equipmentList",data:function(){return{universal:{add:!1,change:!1,rules:!1},rules:{one:"",two:"",three:"",four:"",five:"",six:"",seven:"",eight:"",nine:""},paging:{page:1,pageSize:10,total:0},tableData:[],search:{roleName:""},add:{roleName:"",roleDescribe:""},change:{roleName:"",roleDescribe:""}}},mounted:function(){document.title=this.$route.meta.title,this.searchClick()},methods:{changeClickrules:function(){var e={one:this.rules.one};c()({method:"post",data:n.a.stringify(e)}).then(function(e){})},rulesClick:function(e){this.universal.rules=!0},hideclickrules:function(){this.universal.rules=!1},indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},addClick:function(){if(""==this.add.roleName)return this.$message.error("带*的数据不能为空哦！"),!1;if(""==this.add.roleDescribe)return this.$message.error("带*的数据不能为空哦！"),!1;var e=this.add,t=this;c()({method:"post",url:this.$store.state.http+"/role/add",data:n.a.stringify(e)}).then(function(e){0==e.data.resCode?t.searchClick():t.$message({message:"添加失败",type:"error"})}),t.universal.add=!1},deleteClick:function(e){var t=this,s=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c()({method:"post",url:t.$store.state.http+"/role/delete",data:n.a.stringify({roleId:e.roleId})}).then(function(e){0==e.data.resCode?s.searchClick():s.$message({message:"删除失败",type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changeShow:function(e){this.universal.change=!0,this.change=l()({},e)},hideclick:function(){this.universal.change=!1},changeClick:function(){if(""==this.change.roleName)return this.$message.error("带*的数据不能为空哦！"),!1;if(""==this.change.roleDescribe)return this.$message.error("带*的数据不能为空哦！"),!1;var e=this.change,t=this;c()({method:"post",url:this.$store.state.http+"/role/update",data:n.a.stringify(e)}).then(function(e){0==e.data.resCode?(t.$message({message:"修改成功",type:"success"}),t.searchClick()):(t.searchClick(),t.$message({message:"修改失败",type:"error"}))}),t.universal.change=!1},searchClick:function(){var e={page:this.paging.page,pageSize:this.paging.pageSize};this.search.roleName&&(e.roleName=this.search.roleName),this.search.positioneStart&&(e.positioneStart=this.search.positioneStart),this.search.positionereEnd&&(e.positionereEnd=this.search.positionereEnd);var t=this;t.tableData=[],c()({method:"post",url:this.$store.state.http+"/role/findAll",data:n.a.stringify(e)}).then(function(e){0==e.data.resCode?(t.paging.total=e.data.count,t.tableData=e.data.result):t.tableData=[]})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"addRole"}},[e._m(0),e._v(" "),s("div",{staticClass:"select"},[s("span",[e._v("角色类型：")]),e._v(" "),s("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.roleName,callback:function(t){e.$set(e.search,"roleName",t)},expression:"search.roleName"}})],1),e._v(" "),s("div",{staticClass:"select"},[s("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.universal.add=!0}}},[e._v("添加")]),e._v(" "),s("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")])],1),e._v(" "),s("div",{staticClass:"Content"},[s("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[s("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"角色类型\t",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.roleName))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.roleName))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"角色描述",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.roleDescribe))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.roleDescribe))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[s("i",{staticClass:"icon-change el-icon-edit",on:{click:function(s){e.changeShow(t.row)}}})]),e._v(" "),1==t.row.roleId?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"icon-unclick el-icon-delete"})]):s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(s){e.deleteClick(t.row)}}})]),e._v(" "),1==t.row.roleId?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"计费规则",placement:"top"}},[s("i",{staticClass:"icon-change billingicon el-icon-tickets",on:{click:function(s){e.rulesClick(t.row)}}})]):s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"计费规则",placement:"top"}},[s("i",{staticClass:"icon-unclick el-icon-tickets"})])]}}])})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"新增",visible:e.universal.add},on:{"update:visible":function(t){e.$set(e.universal,"add",t)}}},[s("div",[s("span",{staticClass:"spanClass"},[s("span",{staticClass:"aKey"},[e._v("*")]),e._v("角色类型：")]),e._v(" "),s("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add.roleName,callback:function(t){e.$set(e.add,"roleName",t)},expression:"add.roleName"}}),s("br"),s("br"),e._v(" "),s("span",{staticClass:"spanClass"},[s("span",{staticClass:"aKey"},[e._v("*")]),e._v("角色类型描述：")]),e._v(" "),s("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:e.add.roleDescribe,callback:function(t){e.$set(e.add,"roleDescribe",t)},expression:"add.roleDescribe"}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(t){e.universal.add=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.addClick}},[e._v("添加")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"修改",visible:e.universal.change},on:{"update:visible":function(t){e.$set(e.universal,"change",t)}}},[s("div",[s("span",{staticClass:"spanClass"},[s("span",{staticClass:"aKey"},[e._v("*")]),e._v("角色类型：")]),e._v(" "),s("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.roleName,callback:function(t){e.$set(e.change,"roleName",t)},expression:"change.roleName"}}),s("br"),s("br"),e._v(" "),s("span",{staticClass:"spanClass"},[s("span",{staticClass:"aKey"},[e._v("*")]),e._v("角色类型描述：")]),e._v(" "),s("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:e.change.roleDescribe,callback:function(t){e.$set(e.change,"roleDescribe",t)},expression:"change.roleDescribe"}})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.hideclick}},[e._v("取消")]),e._v(" "),s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.changeClick}},[e._v("修改")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"计费规则",visible:e.universal.rules},on:{"update:visible":function(t){e.$set(e.universal,"rules",t)}}},[s("div",[s("span",{staticClass:"spanClass"},[e._v("一级：")]),e._v(" "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.one,callback:function(t){e.$set(e.rules,"one",t)},expression:"rules.one"}}),e._v("--"),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.two,callback:function(t){e.$set(e.rules,"two",t)},expression:"rules.two"}}),e._v(" 吨   "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.three,callback:function(t){e.$set(e.rules,"three",t)},expression:"rules.three"}}),e._v("元"),s("br"),s("br"),e._v(" "),s("span",{staticClass:"spanClass"},[e._v("二级：")]),e._v(" "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.four,callback:function(t){e.$set(e.rules,"four",t)},expression:"rules.four"}}),e._v("--"),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.five,callback:function(t){e.$set(e.rules,"five",t)},expression:"rules.five"}}),e._v(" 吨   "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.six,callback:function(t){e.$set(e.rules,"six",t)},expression:"rules.six"}}),e._v("元"),s("br"),s("br"),e._v(" "),s("span",{staticClass:"spanClass"},[e._v("三级：")]),e._v(" "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.seven,callback:function(t){e.$set(e.rules,"seven",t)},expression:"rules.seven"}}),e._v("--"),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.eight,callback:function(t){e.$set(e.rules,"eight",t)},expression:"rules.eight"}}),e._v(" 吨   "),s("el-input",{staticClass:"inputrule",attrs:{clearable:""},model:{value:e.rules.nine,callback:function(t){e.$set(e.rules,"nine",t)},expression:"rules.nine"}}),e._v("元"),s("br"),s("br")],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.hideclickrules}},[e._v("取消")]),e._v(" "),s("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.changeClickrules}},[e._v("结算")])],1)]),e._v(" "),s("div",{staticClass:"footer"},[s("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerTitle"},[t("span",[this._v("角色管理")])])])}]};var d=s("VU/8")(o,u,!1,function(e){s("ba1d")},"data-v-09020a24",null);t.default=d.exports}});